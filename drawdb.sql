CREATE TABLE "commands" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"name" VARCHAR(255),
	"game_name" INTEGER,
	"logo" VARCHAR(255),
	PRIMARY KEY("id")
);

CREATE TABLE "events" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"game" INTEGER,
	"tournament" INTEGER,
	"game_name" VARCHAR(255),
	"match_type" VARCHAR(255),
	"time_of_start" DATE,
	"status" VARCHAR(255),
	"command_1" INTEGER,
	"command_2" INTEGER,
	"odd_1" DECIMAL,
	"odd_2" DECIMAL,
	"created_at" DATE,
	"updated_at" DATE,
	"contract" INTEGER,
	PRIMARY KEY("id")
);
CREATE INDEX "events_index_0"
ON "events" ();

CREATE TABLE "games" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"name" VARCHAR(255) UNIQUE,
	"logo" VARCHAR(255),
	PRIMARY KEY("id")
);

CREATE TABLE "users" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"name" VARCHAR(255),
	"role" VARCHAR(255) DEFAULT 'USER',
	PRIMARY KEY("id")
);

CREATE TABLE "contracts" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"contract_id" VARCHAR(255),
	PRIMARY KEY("id")
);

CREATE TABLE "tournaments" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"name" VARCHAR(255),
	"logo" VARCHAR(255),
	"game" INTEGER,
	PRIMARY KEY("id")
);

ALTER TABLE "games"
ADD FOREIGN KEY("id") REFERENCES "events"("game")
ON UPDATE NO ACTION ON DELETE NO ACTION;

ALTER TABLE "games"
ADD FOREIGN KEY("id") REFERENCES "commands"("game_name")
ON UPDATE NO ACTION ON DELETE NO ACTION;

ALTER TABLE "contracts"
ADD FOREIGN KEY("id") REFERENCES "events"("contract")
ON UPDATE NO ACTION ON DELETE NO ACTION;

ALTER TABLE "commands"
ADD FOREIGN KEY("id") REFERENCES "events"("command_1")
ON UPDATE NO ACTION ON DELETE NO ACTION;

ALTER TABLE "commands"
ADD FOREIGN KEY("id") REFERENCES "events"("command_2")
ON UPDATE NO ACTION ON DELETE NO ACTION;

ALTER TABLE "tournaments"
ADD FOREIGN KEY("id") REFERENCES "events"("tournament")
ON UPDATE NO ACTION ON DELETE NO ACTION;

ALTER TABLE "games"
ADD FOREIGN KEY("id") REFERENCES "tournaments"("game")
ON UPDATE NO ACTION ON DELETE NO ACTION;
